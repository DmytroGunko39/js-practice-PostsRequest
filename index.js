import{a as u,i}from"./assets/vendor-2iTncBXz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();u.defaults.baseURL="https://683d54c2199a0039e9e4fc76.mockapi.io/";const f=()=>u.get("/posts"),p=r=>{const t={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};return fetch(`${BASE_URL}/posts`,t).then(e=>{if(!e.ok)throw new Error(e.status);return e.json()})},d=r=>{const t={method:"DELETE"};return fetch(`${BASE_URL}/posts/${r}`,t).then(e=>{if(!e.ok)throw new Error(e.status);return e.json()})},h="data:image/svg+xml,%3c!--%20Generated%20by%20IcoMoon.io%20--%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20style='display:%20none;'%3e%3csymbol%20id='icon-trash'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M64%20160v320c0%2017.6%2014.4%2032%2032%2032h288c17.6%200%2032-14.4%2032-32v-320h-352zM160%20448h-32v-224h32v224zM224%20448h-32v-224h32v224zM288%20448h-32v-224h32v224zM352%20448h-32v-224h32v224z'%3e%3c/path%3e%3cpath%20d='M424%2064h-104v-40c0-13.2-10.8-24-24-24h-112c-13.2%200-24%2010.8-24%2024v40h-104c-13.2%200-24%2010.8-24%2024v40h416v-40c0-13.2-10.8-24-24-24zM288%2064h-96v-31.599h96v31.599z'%3e%3c/path%3e%3c/symbol%3e%3c/svg%3e",m=({id:r,title:t,body:e})=>`
<li class="posts-list-item">
  <button class="post-delete-btn" type="button" data-delete data-post-id='${r}' >
    <svg class="post-delete-icon" width="16" height="16">
      <use href='${h}#icon-trash'></use>;
      </svg>
   </button>
   <h3 class="posts-list-item-title">${t}</h3>
  <p class="posts-list-item-text">${e}</p>
</li>

  `;console.log(d);const l={postList:document.querySelector(".js-posts-list"),postForm:document.querySelector(".js-post-form")},a=()=>{f().then(({data:r})=>{const t=r.map(e=>m(e)).join(" ");l.postList.innerHTML=t}).catch(r=>{console.log(r)})};a();const g=r=>{r.preventDefault();const{currentTarget:t}=r;console.dir(t);const e={title:t.elements.post_title.value.trim(),body:t.elements.post_body.value.trim()};if(Object.values(e).find(o=>o==="")===""){i.warning({title:"Warning",message:"All fields must be filled out",timeout:3e3,position:"topRight",messageColor:"#fff",titleColor:"#fff",backgroundColor:"#FFA500"});return}p(e).then(o=>{i.success({title:"Success",message:`${o.title} added successfully!`,timeout:3e3,position:"topRight",messageColor:"#fff",titleColor:"#fff"}),t.reset(),a(),console.log(o)}).catch(o=>{console.log(o)})},v=r=>{const t=r.target.closest("button[data-delete]");if(t===null)return;const e=t.dataset.postId;d(e).then(c=>{i.success({title:"Success",message:`${c.title} successfully deleted!`,timeout:3e3,position:"topRight"}),a()}).catch(c=>{console.log(c)})};l.postForm.addEventListener("submit",g);l.postList.addEventListener("click",v);
//# sourceMappingURL=index.js.map
